# üîê Auth API 

## üìç –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:


---

## üî∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**POST** `/auth/register`

–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞–≤–∞—è `User`, `Person` –∏ –Ω–∞–∑–Ω–∞—á–∞—è —Ä–æ–ª—å `ROLE_USER`.

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (`application/json`):
```json
{
  "username": "tima",
  "email": "tima@example.com",
  "password": "123456",
  "firstName": "Tima",
  "lastName": "Auezov",
  "middleName": "K",
  "nickName": "timakz"
}

200 OK: "Success!"

400 BAD REQUEST: –µ—Å–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
"Choose different name"
"Choose different email"

## üî∏ –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–æ–≥–∏–Ω)
POST /auth/login

{
  "username": "tima",
  "password": "123456"
}

{
  "success": true,
  "jwt": "eyJhbGciOiJIUzI1NiIsInR...",
  "expirationTime": 1715479356000,
  "username": "tima",
  "message": "Login successful"
}

{
  "success": false,
  "jwt": null,
  "expirationTime": 0,
  "username": null,
  "message": "Invalid username or password"
}

–Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
Authorization: Bearer <—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω>

# üë§ User API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìç –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:
/api/users


---

## üîπ –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

**GET** `/api/users/me/{id}`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ `id`.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `id` (Long): –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
GET /api/users/me/1

### –û—Ç–≤–µ—Ç:
```json
{
    "id": 1,
    "username": "tima",
    "password": "$2a$10$XvJs/qKpTH89UXL0xj9XHu24Co4tW7g9VJnWqAE9bIBWZoqOIBoZ.",
    "email": "tima@mail.ru",
    "person": {
        "id": 1,
        "firstName": "–¢–∏–º—É—Ä",
        "lastName": "–ú–∏—Ä–æ–Ω–æ–≤",
        "middleName": "–ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á",
        "nickName": "dystopia",
        "hasBeenDeleted": false
    },
    "hasBeenDeleted": false,
    "roles": [
        {
            "id": 1,
            "name": "ROLE_USER",
            "users": []
        }
    ]
}

üîπ –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ JWT
GET /api/users/jwt/me
Authorization: Bearer <—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω>


üîπ –û–±–Ω–æ–≤–∏—Ç—å –Ω–∏–∫–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT /api/users/update/{id}

–û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∏–∫–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–µ—Ä–µ–∑ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å Person) –ø–æ –µ–≥–æ id.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
id (Long): –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
{
  "newNickname": "timagreat"
}

–û—Ç–≤–µ—Ç:
200 OK: "Nickname was updated"

404 Not Found: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

500 Internal Server Error: –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ–π Person


# üèãÔ∏è Workout API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìç –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:

---

## ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

**POST** `/api/workout/{userId}`

–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:
- `userId` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):
```json
{
  "exercise": "Leg Press",
  "sets": 3,
  "reps": 10,
  "weight": 80,
  "date": "2025-05-11"
}

–û—Ç–≤–µ—Ç:
{
    "id": 4,
    "exercise": "Leg Press",
    "sets": 3,
    "reps": 10,
    "weight": 80,
    "user": {
        "id": 1,
        "username": "tima",
        "password": "$2a$10$XvJs/qKpTH89UXL0xj9XHu24Co4tW7g9VJnWqAE9bIBWZoqOIBoZ.",
        "email": "tima@mail.ru",
        "person": {
            "id": 1,
            "firstName": "–¢–∏–º—É—Ä",
            "lastName": "–ú–∏—Ä–æ–Ω–æ–≤",
            "middleName": "–ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á",
            "nickName": "dystopia",
            "hasBeenDeleted": false
        },
        "hasBeenDeleted": false,
        "roles": [
            {
                "id": 1,
                "name": "ROLE_USER",
                "users": []
            }
        ]
    },
    "date": "2025-05-11"
}


 –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –ø–æ ID
GET /api/workout/{id}

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –ø–æ –µ—ë ID.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:
id ‚Äî ID —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

–û—Ç–≤–µ—Ç:
200 OK: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Workout

404 Not Found: –µ—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞


–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é
GET /api/workout/progress/{userId}/{exercise}


–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∏–Ω–∞–º–∏–∫—É –≤–µ—Å–∞).
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:
userId ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

exercise ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Squat)
GET http://localhost:8080/api/workout/progress/1/bench press
–û—Ç–≤–µ—Ç:
–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ 'bench press':
- –í–µ—Å: 70 –∫–≥ ‚Üí 85 –∫–≥ (21,43%)
- –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è: 10 ‚Üí 10 (0,00%)
- –°–µ—Ç—ã: 3 ‚Üí 3 (0,00%)

–ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –º–µ–Ω—å—à–µ –¥–≤—É—Ö(–Ω–µ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ) —Ç–æ –¥–∞—Å—Ç –æ—Ç–≤–µ—Ç:
200 OK: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

‚ôªÔ∏è –û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
PUT /api/workout/{id}

–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –ø–æ –µ—ë ID.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:
id ‚Äî ID —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
{
  "exercise": "Deadlift",
  "sets": 4,
  "reps": 5,
  "weight": 100,
  "date": "2025-05-10"
}
–û—Ç–≤–µ—Ç:
200 OK: –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞

404 Not Found: –µ—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
